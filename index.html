<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pipeline MIPS</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
  </script>

  <link rel="stylesheet" type="text/css" href="styles.css">
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <svg xmlns:html="http://www.w3.org/1999/xhtml"
          viewBox="0 0 1200 600"
          id="canvas" width="1200" height="600">
    <!--
      viewBox eh o tamanho logico do canvas. Se voce nao mexer nele,
      da p/ alterar width e height a vontade que nao precisa alterar
      as coordenadas no codigo abaixo
    -->

    <!--
      RESUMO <path>
      maiusculo:  posicao absoluta
      minusculo: distancia
      X cresce p/ esquerda
      Y cresce p/ baixo

      O caminho eh uma sequencia dessas diretivas:

      M x y: posiciona a caneta em x,y sem desenhar
      m dx dy: anda a caneta uma distancia dx,dy sem desenhar

      H x: risca horizontalmente ate a posicao x
      h dx: risca horizontalmente uma distancia dx

      V y: risca verticalmente ate a posicao y
      v dy: risca verticalmente uma distancia dy

      L x y: risca ate a posicao x,y
      l dx dy: risca uma distancia dx,dy
    -->

    <!-- A aparencia dos elementos ta definida no CSS -->

    <!-- Da pra fazer a ULA assim -->
    <g transform="translate(100, 400) rotate(90)">
      <!-- Desenha um trapezio centrado nas coordenadas do translate(x, y) -->
      <!-- Pra reposicionar, so precisa alterar os parametros do translate -->
      <!--<polygon points="-25,-50 -25,50 25,25, 25,-25"/>-->
    </g>

    <g transform="translate(50, 250)">
      <!-- Desenha um trapezio centrado nas coordenadas do translate(x, y) -->
      <!-- Pra reposicionar, so precisa alterar os parametros do translate -->
      <rect x="0" y="0" width="100" height="300"/>
      <text x="0" y="0">
        <!--<tspan x="0" dy="1.2em"> LW $R0 0 </tspan>
        <tspan x="0" dy="1.2em"> LW $R1 4 </tspan>
        <tspan x="0" dy="1.2em"> NOOP </tspan>
        <tspan x="0" dy="1.2em"> NOOP </tspan>
        <tspan x="0" dy="1.2em"> ADD $R2 $R0 $R1 </tspan>-->
      </text>
		<g transform="translate(75, 125) rotate(90)">
			<rect x="0" y="0" width="150" height="50"/>
			<text x="10" y="30">
				<tspan> ADD $R2 $R0 $R1 </tspan>
			</text>
		</g>
    </g>

    <!-- Retangulos p/ fazer as memorias e o banco de registradores -->
    <rect x="100" y="100" width="100" height="100"/>
    <rect x="400" y="200" width="100" height="100"/>
    <rect x="350" y="400" width="100" height="100"/>

    <path id="caminhoRed"  d="M 200 150 h 50 v 100 h 150"></path>
    <path id="caminhoBlue" d="M 450 300 v 40 h -50 v 60"></path>

    <!--
      fill=freeze faz os circulos ficarem parados no fim do caminho quando
      a animacao acaba. Se tirar, eles teleportam para 0,0
    -->

    <circle id="circleRed" fill="red">
      <animateMotion id="animRed" dur="2s" fill="freeze" begin="indefinite">
        <mpath xlink:href="#caminhoRed"/>
      </animateMotion>
    </circle>

    <circle id="circleBlue" fill="blue">
      <animateMotion id="animBlue" dur="2s" fill="freeze" begin="indefinite">
        <mpath xlink:href="#caminhoBlue"/>
      </animateMotion>
    </circle>

    <!-- Caixa de texto (p/ instrucoes, memoria etc) -->
    <!--<g class="text-box" transform="translate(600, 100)">
      <rect x="0" y="0" width="120" height="200"/>
      <rect class="selection" x="0" y="0em" width="120" height="1.2em"/>
      <text x="0" y="0">
        <tspan x="0" dy="1.2em"> LW $R0 0 </tspan>
        <tspan x="0" dy="1.2em"> LW $R1 4 </tspan>
        <tspan x="0" dy="1.2em"> NOOP </tspan>
        <tspan x="0" dy="1.2em"> NOOP </tspan>
        <tspan x="0" dy="1.2em"> ADD $R2 $R0 $R1 </tspan>
      </text>
    </g>-->

  </svg>

  <div class="centered">
    <input type="button" id="animateBtn" value="Animar">
    <input type="button" id="advanceBtn" value="Avançar instrução">
  </div>

  <script src="instruction.js"></script>
  <script src="cpu.js"></script>
  <script src="animation.js"></script>
</body>
</html>
